{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Cooperative Finance</title>
    <meta name="description" content="Cooperative Finance description">
    <link rel="icon" href="/static/assets/img/custom/sango-coop-logo.jpeg" type="image/x-icon" />
    <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome-all.min.css' %}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        .logo-container {
            position: absolute;
            top: 10px; /* Adjust the vertical positioning */
            left: 10px; /* Aligns the logo and text to the right */
            z-index: 1000; /* Ensures it appears on top of other elements */
        }

        .logo {
            width: 50px;  /* Adjust size to your preference */
            height: 50px;
            object-fit: cover; /* Ensures the logo scales properly */
        }

        .logo-text {
            font-size: 1.2rem; /* Adjust text size */
            font-weight: bold;
            color: #000; /* Adjust text color based on your theme */
        }
        
        /* Page Loader Styles */
        #page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000000 0%, #ff6600 100%); /* Black to Orange */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        
        .loader-content {
            text-align: center;
            color: white;
        }
        
        .loader-spinner {
            width: 60px;
            height: 60px;
            position: relative;
            margin-bottom: 20px;
        }
        
        .loader-spinner:before, .loader-spinner:after {
            content: "";
            position: absolute;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: white;
            animation: spin 1.5s linear infinite;
        }
        
        .loader-spinner:before {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-top-color: rgba(255, 255, 255, 0.8);
            animation: spin 2s linear infinite;
        }
        
        .loader-spinner:after {
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border-top-color: rgba(255, 255, 255, 0.5);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        .loader-logo {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .loader-text {
            font-size: 1.2rem;
            font-weight: 500;
            margin-top: 15px;
            letter-spacing: 1px;
        }
        
        .loader-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .loader-progress-bar {
            height: 100%;
            width: 0%;
            background: white;
            border-radius: 10px;
            animation: loading 2s ease-in-out infinite;
        }
        
        @keyframes loading {
            0% {
                width: 0%;
            }
            50% {
                width: 70%;
            }
            100% {
                width: 100%;
            }
        }
        
        .fade-out {
            opacity: 0;
            pointer-events: none;
        }
        
        body.loaded #page-loader {
            display: none;
        }
    </style>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
</head>

<body id="page-top">
    <!-- Page Loader -->
    <div id="page-loader">
        <div class="loader-content">
            <img src="/static/assets/img/custom/sango-coop-logo.jpeg" alt="Logo" class="loader-logo">
            <div class="loader-spinner"></div>
            <div class="loader-text">Loading SangoCoop</div>
            <div class="loader-progress">
                <div class="loader-progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Logo at the top-right corner -->
    <div class="logo-container d-flex align-items-center">
        <!-- <img src="/static/assets/img/custom/sangocoop-logo.jpeg" alt="Logo" class="logo rounded-circle" /> -->
        <!-- <span class="logo-text mx-2 d-none d-md-block">SangoCoop</span> -->
    </div>

    <div>
        {% block content %}
            
	    {% endblock %}
    </div>
	
    </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a></div>
    

        <!-- Profile Modal -->
        <div class="modal fade"  class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="profileModalLabel">User Profile</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center mb-4">
                            {% if member.image %}
                                <img src="{{ member.image.url }}" alt="Profile Picture" class="img-fluid rounded-circle" style="width: 120px; height: 120px;">
                            {% endif %}
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Full Name:</strong> {{ member.first_name }} {{ member.last_name }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Membership Number:</strong> {{ member.mem_number }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Address:</strong> {{ member.address }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Contact:</strong> {{ member.contact }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Account Status:</strong> {{ member.get_status_display }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Date Created:</strong> {{ member.date_created|date:"d M Y" }}</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <p class="mb-0"><strong>Last Updated:</strong> {{ member.date_updated|date:"d M Y" }}</p>
                            </div>
                        </div>
                        <a hx-get="{% url 'members:edit_account' %}" hx-target="#modalBody" data-toggle="modal" data-target="#exampleModal" class="btn btn-primary d-block text-white mx-auto">Edit Profile</a>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      </div>
                </div>
            </div>
        </div>
        
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">SangoCop</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body" id="modalBody">
                
                {% if messages %}
                    <div class="alert alert-info">
                        {% for message in messages %}
                            <p>{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                <!-- List of notifications -->
                {% for notification in notifications %}
                    <div class="alert alert-info">
                        <strong>{{ notification.title }}</strong>
                        <p>{{ notification.message }}</p>
                        <small>{{ notification.created_at|date:"d M Y H:i" }}</small>
                    </div>
                {% empty %}
                    <p>No notifications available.</p>
                {% endfor %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
        </div>
        </div>
    </div>
    <!-- Footer area from here -->
    <footer class="bg-white sticky-footer">
        <div class="container my-auto">
            <div class="text-center my-auto copyright"><span>Copyright © SangoCoop 2024</span></div>
        </div>
    </footer>
    
    
    <script src="/static/assets/js/jquery.min.js"></script>
    <script src="/static/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/assets/js/chart.min.js"></script>
    <script src="/static/assets/js/bs-charts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="/static/assets/js/theme.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Page Loader Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Show loader immediately
            const loader = document.getElementById('page-loader');
            
            // Hide loader when page is fully loaded
            window.addEventListener('load', function() {
                // Add a small delay for better UX
                setTimeout(function() {
                    loader.classList.add('fade-out');
                    
                    // Remove loader from DOM after fade out
                    setTimeout(function() {
                        loader.style.display = 'none';
                        document.body.classList.add('loaded');
                    }, 500);
                }, 1000); // Minimum display time for loader
            });
            
            // Fallback: hide loader after 5 seconds max
            setTimeout(function() {
                if (loader.style.display !== 'none') {
                    loader.classList.add('fade-out');
                    setTimeout(function() {
                        loader.style.display = 'none';
                        document.body.classList.add('loaded');
                    }, 500);
                }
            }, 5000);
        });
        
        // Show loader during HTMX requests
        document.body.addEventListener('htmx:beforeRequest', function() {
            document.getElementById('page-loader').style.display = 'flex';
        });
        
        document.body.addEventListener('htmx:afterRequest', function() {
            setTimeout(function() {
                document.getElementById('page-loader').classList.add('fade-out');
                setTimeout(function() {
                    document.getElementById('page-loader').style.display = 'none';
                }, 500);
            }, 500);
        });
    </script>
    
    {% block script %}

    {% endblock %}


</body>

</html>